<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />

  <!-- Optimisation mobile Android + iPhone -->
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <meta name="touch-action" content="manipulation">

  <!-- Icônes (facultatif, tu peux remplacer les fichiers) -->
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <link rel="icon" sizes="192x192" href="icons/icon-192.png">

  <title>Bounty Clicker - Mobile</title>
  <link rel="stylesheet" href="script/css-mobile.css" />
</head>

<body>

  <div class="bg"></div>

  <header class="top">
    <h1>Bounty Clicker</h1>
    <div class="stats">
      <div id="counter">Croquettes : 0</div>
      <div id="cps">CPS : 0</div>
    </div>
  </header>

  <main class="center-zone">
    <img id="image" src="image/bounty.jpg" alt="Bounty">
  </main>

  <section class="panel" id="shop">
    <h2>Boutique</h2>
    <div id="storeItems" class="scroll"></div>
  </section>

  <section class="panel" id="boosts">
    <h2>Boosts</h2>
    <div id="boostsContainer" class="scroll"></div>
  </section>

  <section class="rebirth-zone">
    <button id="rebirthButton" class="btn">Rebirth</button>
    <div id="rebirthCount">Rebirths : 0</div>
  </section>

  <footer class="footer">
    <button id="resetButton" class="btn reset">Réinitialiser</button>
  </footer>

  <audio id="clickSound" src="script/audio/Mouse Click Sound Effect.mp3" preload="auto"></audio>

  <script src="script/boutique.js" defer></script>
  <script src="script/boost.js" defer></script>
  <script src="script/main.js" defer></script>

  <script>
    /* Activation audio iPhone */
    document.addEventListener("touchstart", () => {
      const s = document.getElementById("clickSound");
      s.volume = 1;
    }, { once: true });

    /* Animation du clic + +1 */
    document.addEventListener('DOMContentLoaded', () => {
      const image = document.getElementById("image");

      image.addEventListener("click", (e) => {
        image.classList.add("click-anim");
        setTimeout(() => image.classList.remove("click-anim"), 120);

        const plus = document.createElement("div");
        plus.className = "plus-one";
        plus.textContent = "+1";
        document.body.appendChild(plus);

        plus.style.left = e.clientX + "px";
        plus.style.top = e.clientY + "px";

        setTimeout(() => plus.remove(), 700);
      });
    });
  </script>

</body>
</html>
